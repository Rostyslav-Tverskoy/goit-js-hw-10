{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport flatpickr from \"flatpickr\";\nconst startBtn = document.querySelector(\"button[data-start]\");\nconst days = document.querySelector(\"span[data-days]\");\nconst hour = document.querySelector(\"span[data-hours]\");\nconst minutes = document.querySelector(\"span[data-minutes]\");\nconst seconds = document.querySelector(\"span[data-seconds]\");\nconst input = document.querySelector(\"#datetime-picker\");\n\nstartBtn.addEventListener(\"click\", handleClick);\nlet userSelectedDates = null;\nstartBtn.disabled = true;\nupdateButtonState();\n\nfunction updateButtonState() {\n  if (startBtn.disabled) {\n    startBtn.classList.add(\"disabled-btn\");\n    startBtn.classList.remove(\"active-btn\");\n  } else {\n    startBtn.classList.remove(\"disabled-btn\");\n    startBtn.classList.add(\"active-btn\");\n  }\n}\n\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      let currentTime = new Date();\n      userSelectedDates = selectedDates[0];\n      if(currentTime < userSelectedDates){\n        startBtn.disabled = false;\n        updateButtonState();\n\n        return userSelectedDates;\n      }\n      iziToast.error({\n        message: 'Please choose a date in the future',\n        position: \"topRight\"\n    });\n        startBtn.disabled = true;\n        updateButtonState();\n\n    },\n  };\n\n  flatpickr(\"#datetime-picker\", options);\n\n  function handleClick () {\n    startBtn.disabled = true;\n    updateButtonState();\n    input.disabled = true;\n\n    \n    const timeID = setInterval (() => {\n      const totalTime = new Date();\n      const deltaTime = userSelectedDates - totalTime;\n      const time = convertMs(deltaTime);\n      days.textContent = String(time.days).padStart(2,\"0\");\n      hour.textContent = String(time.hours).padStart(2,\"0\");\n      minutes.textContent = String(time.minutes).padStart(2,\"0\");\n      seconds.textContent = String(time.seconds).padStart(2,\"0\");\n      \n     \n      \n      \n      \n\n      if(deltaTime < 1000) {\n        clearInterval(timeID);\n        input.disabled = false;\n        return;\n      }\n\n      \n    }, 1000);\n    \n    \n  }\n\n\n\n  function convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms/day);\n    const hours = Math.floor( (ms%day) / hour);\n    const minutes = Math.floor( ( (ms%day) % hour ) / minute);\n    const seconds = Math.floor( ( (( ms%day ) % hour )% minute ) / second);\n    return { days, hours, minutes, seconds };\n  }\n\n\n  \n \n  \n"],"names":["startBtn","days","hour","minutes","seconds","input","handleClick","userSelectedDates","updateButtonState","options","selectedDates","currentTime","iziToast","flatpickr","timeID","deltaTime","time","convertMs","ms","hours"],"mappings":"2FAIA,MAAMA,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAO,SAAS,cAAc,kBAAkB,EAChDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAQ,SAAS,cAAc,kBAAkB,EAEvDL,EAAS,iBAAiB,QAASM,CAAW,EAC9C,IAAIC,EAAoB,KACxBP,EAAS,SAAW,GACpBQ,IAEA,SAASA,GAAoB,CACvBR,EAAS,UACXA,EAAS,UAAU,IAAI,cAAc,EACrCA,EAAS,UAAU,OAAO,YAAY,IAEtCA,EAAS,UAAU,OAAO,cAAc,EACxCA,EAAS,UAAU,IAAI,YAAY,EAEvC,CAGA,MAAMS,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,IAAIC,EAAc,IAAI,KAEtB,GADAJ,EAAoBG,EAAc,CAAC,EAChCC,EAAcJ,EACf,OAAAP,EAAS,SAAW,GACpBQ,IAEOD,EAETK,EAAS,MAAM,CACb,QAAS,qCACT,SAAU,UAClB,CAAK,EACGZ,EAAS,SAAW,GACpBQ,GAEH,CACL,EAEEK,EAAU,mBAAoBJ,CAAO,EAErC,SAASH,GAAe,CACtBN,EAAS,SAAW,GACpBQ,IACAH,EAAM,SAAW,GAGjB,MAAMS,EAAS,YAAa,IAAM,CAEhC,MAAMC,EAAYR,EADA,IAAI,KAEhBS,EAAOC,EAAUF,CAAS,EAWhC,GAVAd,EAAK,YAAc,OAAOe,EAAK,IAAI,EAAE,SAAS,EAAE,GAAG,EACnDd,EAAK,YAAc,OAAOc,EAAK,KAAK,EAAE,SAAS,EAAE,GAAG,EACpDb,EAAQ,YAAc,OAAOa,EAAK,OAAO,EAAE,SAAS,EAAE,GAAG,EACzDZ,EAAQ,YAAc,OAAOY,EAAK,OAAO,EAAE,SAAS,EAAE,GAAG,EAOtDD,EAAY,IAAM,CACnB,cAAcD,CAAM,EACpBT,EAAM,SAAW,GACjB,MACD,CAGF,EAAE,GAAI,CAGR,CAID,SAASY,EAAUC,EAAI,CAMrB,MAAMjB,EAAO,KAAK,MAAMiB,EAAG,KAAG,EACxBC,EAAQ,KAAK,MAAQD,EAAG,MAAO,IAAI,EACnCf,EAAU,KAAK,MAAUe,EAAG,MAAO,KAAS,GAAM,EAClDd,EAAU,KAAK,MAAYc,EAAG,MAAQ,KAAQ,IAAW,GAAM,EACrE,MAAO,CAAE,KAAAjB,EAAM,MAAAkB,EAAO,QAAAhB,EAAS,QAAAC,CAAO,CAC1C"}